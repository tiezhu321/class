(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-696e3066"],{1:function(t,e){},"1b62":function(t,e,n){"use strict";var a={data:function(){return{start:1,limit:10,total:0,currentPage:1}},methods:{handleCurrentChange:function(t){this.start=t,this.init(),this.initDialog()},handleSizeChange:function(t){this.limit=t,this.init(),this.initDialog()}}};e["a"]=a},2:function(t,e){},3:function(t,e){},"43fc":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-collapse",{on:{change:t.handleChange},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[n("el-collapse-item",{attrs:{title:"商品管理介绍",name:"1"}},[n("div",[t._v("商品管理模块可以对客户端的商品进行增删改查等相关操作,来控制客户端商品的列表展示和商品详情")])])],1),n("el-card",{attrs:{shadow:"always","body-style":{padding:"20px"}}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("el-collapse",{on:{change:t.handleChange},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[n("el-collapse-item",[n("template",{slot:"title"},[t._v(" 条件查询 ")]),n("div",[t._v("与现实生活一致：与现实生活的流程、逻辑保持一致，遵循用户习惯的语言和概念；")]),n("div",[t._v("在界面中一致：所有的元素和结构需保持一致，比如：设计样式、图标和文本、元素的位置等。")])],2)],1)],1),n("el-card",{attrs:{shadow:"always","body-style":{padding:"20px"}}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("新增")]),n("el-button",{attrs:{type:"primary"},on:{click:t.handleDownload}},[t._v("导出商品列表excel文件")])],1),n("el-table",{staticClass:"margin_30",staticStyle:{width:"100%"},attrs:{align:"center",data:t.list,border:""}},[n("el-table-column",{attrs:{align:"center",label:"序号",type:"index",width:"50",fixed:"left"}}),n("el-table-column",{attrs:{align:"center",label:"展示图片",width:"180"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{staticClass:"img",attrs:{src:t.row.pic,alt:"图片已丢失"}})]}}])}),n("el-table-column",{attrs:{align:"center",label:"商品名称",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.detailTitle)+" "),n("br"),t._v(" 品牌:"+t._s(e.row.brandName)+" "),n("br"),t._v(" "+t._s(e.row.description)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"商品价格",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" 原价:"+t._s(e.row.originalPrice)+" "),n("br"),t._v(" 现价:"+t._s(e.row.price)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",prop:"productCategoryName",label:"商品类别",width:"180"}}),n("el-table-column",{attrs:{align:"center",label:"标签",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(n){return t.changeArticle(e.row.id)}},model:{value:e.row.isShow,callback:function(n){t.$set(e.row,"isShow",n)},expression:"scope.row.isShow"}})]}}])}),n("el-table-column",{attrs:{align:"center",label:"标签2",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(n){return t.changeArticle(e.row.id)}},model:{value:e.row.isShow,callback:function(n){t.$set(e.row,"isShow",n)},expression:"scope.row.isShow"}})]}}])}),n("el-table-column",{attrs:{align:"center",label:"sku",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(n){return t.edit(e.row)}}},[t._v("编辑sku")])]}}])}),n("el-table-column",{attrs:{align:"center",prop:"productCategoryName",label:"商品类别",width:"180"}}),n("el-table-column",{attrs:{align:"center",prop:"weight",label:"重量",width:"180"}}),n("el-table-column",{attrs:{align:"center",prop:"sort",label:"排序",width:"180"}}),n("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"button"},[n("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(n){return t.edit(e.row)}}},[t._v("编辑")]),n("el-link",{attrs:{type:"danger",underline:!1},on:{click:function(n){return t.clear(e.row.id)}}},[t._v("删除")])],1)]}}])})],1),n("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,15,20,25],"page-size":t.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)},r=[],o=(n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("1b62")),l=n("6cd9"),i=(n("4bf8"),{mixins:[o["a"]],data:function(){return{activeNames:["0"],list:[],currentPage:1,productQuery:{brandId:"",id:"",name:"",productCategoryId:"",productSn:"",publishStatus:"",verifyStatus:""}}},computed:{},created:function(){this.init()},mounted:function(){},methods:{handleDownload:function(){var t=this;Promise.resolve().then(n.bind(null,"4bf8")).then((function(e){var n=["商品名称","商品品牌","商品价格"],a=["detailTitle","brandName","price"],r=t.list,o=t.formatJson(a,r);console.log(o),e.export_json_to_excel({header:n,data:o,filename:"excel-list",autoWidth:!0,bookType:"xlsx"})}))},formatJson:function(t,e){return e.map((function(e){return t.map((function(t){return"timestamp"===t?parseTime(e[t]):e[t]}))}))},add:function(){this.$router.push("/list/addList")},init:function(){var t=this;Object(l["b"])(this.start,this.limit,this.productQuery).then((function(e){console.log("商品列表",e),t.list=e.data.rows,t.total=e.data.total}))},handleChange:function(t){console.log("状态:",t)}}}),c=i,s=(n("95ec"),n("2877")),u=Object(s["a"])(c,a,r,!1,null,"73a121cf",null);e["default"]=u.exports},"4bf8":function(t,e,n){"use strict";n.r(e),n.d(e,"export_table_to_excel",(function(){return h})),n.d(e,"export_json_to_excel",(function(){return f}));var a=n("2909"),r=(n("d3b7"),n("c19f"),n("ace4"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("d81d"),n("25f0"),n("99af"),n("21a6")),o=n("1146"),l=n.n(o);function i(t){for(var e=[],n=t.querySelectorAll("tr"),a=[],r=0;r<n.length;++r){for(var o=[],l=n[r],i=l.querySelectorAll("td"),c=0;c<i.length;++c){var s=i[c],u=s.getAttribute("colspan"),d=s.getAttribute("rowspan"),h=s.innerText;if(""!==h&&h==+h&&(h=+h),a.forEach((function(t){if(r>=t.s.r&&r<=t.e.r&&o.length>=t.s.c&&o.length<=t.e.c)for(var e=0;e<=t.e.c-t.s.c;++e)o.push(null)})),(d||u)&&(d=d||1,u=u||1,a.push({s:{r:r,c:o.length},e:{r:r+d-1,c:o.length+u-1}})),o.push(""!==h?h:null),u)for(var f=0;f<u-1;++f)o.push(null)}e.push(o)}return[e,a]}function c(t,e){e&&(t+=1462);var n=Date.parse(t);return(n-new Date(Date.UTC(1899,11,30)))/864e5}function s(t,e){for(var n={},a={s:{c:1e7,r:1e7},e:{c:0,r:0}},r=0;r!=t.length;++r)for(var o=0;o!=t[r].length;++o){a.s.r>r&&(a.s.r=r),a.s.c>o&&(a.s.c=o),a.e.r<r&&(a.e.r=r),a.e.c<o&&(a.e.c=o);var i={v:t[r][o]};if(null!=i.v){var s=l.a.utils.encode_cell({c:o,r:r});"number"===typeof i.v?i.t="n":"boolean"===typeof i.v?i.t="b":i.v instanceof Date?(i.t="n",i.z=l.a.SSF._table[14],i.v=c(i.v)):i.t="s",n[s]=i}}return a.s.c<1e7&&(n["!ref"]=l.a.utils.encode_range(a)),n}function u(){if(!(this instanceof u))return new u;this.SheetNames=[],this.Sheets={}}function d(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),a=0;a!=t.length;++a)n[a]=255&t.charCodeAt(a);return e}function h(t){var e=document.getElementById(t),n=i(e),a=n[1],o=n[0],c="SheetJS",h=new u,f=s(o);f["!merges"]=a,h.SheetNames.push(c),h.Sheets[c]=f;var p=l.a.write(h,{bookType:"xlsx",bookSST:!1,type:"binary"});Object(r["saveAs"])(new Blob([d(p)],{type:"application/octet-stream"}),"test.xlsx")}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.multiHeader,n=void 0===e?[]:e,o=t.header,i=t.data,c=t.filename,h=t.merges,f=void 0===h?[]:h,p=t.autoWidth,b=void 0===p||p,g=t.bookType,m=void 0===g?"xlsx":g;c=c||"excel-list",i=Object(a["a"])(i),i.unshift(o);for(var v=n.length-1;v>-1;v--)i.unshift(n[v]);var w="SheetJS",y=new u,_=s(i);if(f.length>0&&(_["!merges"]||(_["!merges"]=[]),f.forEach((function(t){_["!merges"].push(l.a.utils.decode_range(t))}))),b){for(var S=i.map((function(t){return t.map((function(t){return null==t?{wch:10}:t.toString().charCodeAt(0)>255?{wch:2*t.toString().length}:{wch:t.toString().length}}))})),k=S[0],x=1;x<S.length;x++)for(var C=0;C<S[x].length;C++)k[C]["wch"]<S[x][C]["wch"]&&(k[C]["wch"]=S[x][C]["wch"]);_["!cols"]=k}y.SheetNames.push(w),y.Sheets[w]=_;var A=l.a.write(y,{bookType:m,bookSST:!1,type:"binary"});Object(r["saveAs"])(new Blob([d(A)],{type:"application/octet-stream"}),"".concat(c,".").concat(m))}},"6cd9":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));n("99af");var a=n("b775");function r(t,e,n){return Object(a["a"])({url:"/lejuAdmin/product/productsByPage/".concat(t,"/").concat(e),method:"post",data:n})}function o(){return Object(a["a"])({url:"/lejuAdmin/product/addProductAndSkus",method:"post",data:data})}},7434:function(t,e,n){},"95ec":function(t,e,n){"use strict";n("7434")}}]);