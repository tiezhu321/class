(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d400544"],{"245f":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-card",{attrs:{shadow:"always","body-style":{padding:"20px"}}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("el-button",{attrs:{size:"default",type:"primary"},on:{click:t.add}},[t._v("新增")])],1)]),i("el-table",{staticClass:"margin_30",staticStyle:{width:"100%"},attrs:{align:"center",data:t.list,border:""}},[i("el-table-column",{attrs:{align:"center",label:"序号",type:"index",width:"50",fixed:"left"}}),i("el-table-column",{attrs:{align:"center",label:"广告图片",width:"180"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{staticClass:"img",attrs:{src:t.row.pic,alt:"图片已丢失"}})]}}])}),i("el-table-column",{attrs:{align:"center",label:"时间",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",[t._v(" 开始时间:"+t._s(e.row.createTime)+" "),i("br"),t._v(" 结束时间:"+t._s(e.row.endTime)+" ")])]}}])}),i("el-table-column",{attrs:{align:"center",prop:"name",label:"广告名称",width:"180"}}),i("el-table-column",{attrs:{align:"center",prop:"clickCount",label:"点击数",width:"180"}}),i("el-table-column",{attrs:{align:"center",prop:"orderCount",label:"下单数",width:"180"}}),i("el-table-column",{attrs:{align:"center",prop:"type",label:"轮播位置",width:"180"}}),i("el-table-column",{attrs:{align:"center",prop:"url",label:"链接地址",width:"180"}}),i("el-table-column",{attrs:{align:"center",prop:"note",label:"备注",width:"180"}}),i("el-table-column",{attrs:{align:"center",prop:"status",label:"上下线状态",width:"180"}}),i("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"button"},[i("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(i){return t.edit(e.row)}}},[t._v("编辑")]),i("el-link",{attrs:{type:"danger",underline:!1},on:{click:function(i){return t.clear(e.row.id)}}},[t._v("删除")])],1)]}}])})],1),i("el-dialog",{attrs:{title:"品牌详情",visible:t.dialogFormVisible},on:{close:t.clearForm,"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px",inline:!1,size:"normal"}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:12}}),i("el-col",{attrs:{span:12}})],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{attrs:{size:"medium",autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.addList}},[t._v("确 定")])],1)],1)],1)},n=[],l=(i("7db0"),i("d3b7"),i("159b"),i("2f4d")),a=i("b775");function r(){return Object(a["a"])({url:"/lejuAdmin/advertise/adsList"})}var s={data:function(){return{current:0,list:[],start:1,limit:10,currentPage:1,total:0,dialogFormVisible:!1,headers:{token:Object(l["b"])()},form:{clickCount:"",createTime:"",endTime:"",id:"",modifyTime:"",name:"",note:"",orderCount:"",pic:"",productId:"",sort:"",startTime:"",status:"",type:"",url:""}}},computed:{},created:function(){this.init()},mounted:function(){},methods:{changeArticle:function(t){var e=this,i=this.list.find((function(e){return e.id==t}));switchShowStatus({id:t,status:i.showStatus?1:0}).then((function(t){console.log("修改显示",t),e.init()}))},clearForm:function(){this.form={bigPic:"",brandStory:"",createTime:"",factoryStatus:"",firstLetter:"",id:"",logo:"",modifyTime:"",name:"",productCommentCount:"",productCount:"",showStatus:"",sort:""}},edit:function(t){this.dialogFormVisible=!this.dialogFormVisible,this.form=t},addList:function(){var t=this;this.dialogFormVisible=!this.dialogFormVisible,this.form.factoryStatus=this.form.factoryStatus?1:0,this.form.showStatus=this.form.showStatus?1:0,this.form.id?updateBrand(this.form).then((function(e){e.success&&(t.init(),console.log("修改",e))})):addBrand(this.form).then((function(e){e.success&&(t.init(),console.log("新增",e))}))},getUpLoadImg:function(t){console.log("上传图片",t),this.form.bigPic=t.data.material.ossUrl},getUpLoadLogo:function(t){console.log("上传logo",t),this.form.logo=t.data.material.ossUrl},add:function(){this.dialogFormVisible=!this.dialogFormVisible},clear:function(t){var e=this;delBrand(t).then((function(t){console.log("删除",t),e.init()}))},handleSizeChange:function(t){console.log(t),this.limit=t,this.init()},handleCurrentChange:function(t){console.log(t),this.start=t,this.init()},init:function(){var t=this;r().then((function(e){console.log(e),e.data.items.forEach((function(t){t.type=t.type?"":"app首页轮播",t.status=t.status?"上线":"下线"})),t.list=e.data.items}))}}},c=s,d=(i("5793"),i("2877")),u=Object(d["a"])(c,o,n,!1,null,"6c7bd714",null);e["default"]=u.exports},"2b46":function(t,e,i){},5793:function(t,e,i){"use strict";i("2b46")},"7db0":function(t,e,i){"use strict";var o=i("23e7"),n=i("b727").find,l=i("44d2"),a=i("ae40"),r="find",s=!0,c=a(r);r in[]&&Array(1)[r]((function(){s=!1})),o({target:"Array",proto:!0,forced:s||!c},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),l(r)}}]);