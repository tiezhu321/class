(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dd88f"],{8298:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",{attrs:{shadow:"always","body-style":{padding:"20px"}}},[o("div",{attrs:{slot:"header"},slot:"header"},[o("el-button",{attrs:{type:"primary"},on:{click:e.isShow}},[e._v("新增")])],1),o("el-table",{staticClass:"margin_30",staticStyle:{width:"100%"},attrs:{align:"center",data:e.list,border:""}},[o("el-table-column",{attrs:{align:"center",label:"#",type:"index",width:"50",fixed:"left"}}),o("el-table-column",{attrs:{align:"center",prop:"addressName",label:"地址名称",width:"180"}}),o("el-table-column",{attrs:{align:"center",label:"默认发货地址",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(o){return e.setSend(t.row.id)}},model:{value:t.row.sendStatus,callback:function(o){e.$set(t.row,"sendStatus",o)},expression:"scope.row.sendStatus "}})]}}])}),o("el-table-column",{attrs:{align:"center",prop:"name",label:"收货人姓名",width:"180"}}),o("el-table-column",{attrs:{align:"center",label:"收货人地址",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",[e._v(" "+e._s(t.row.province)+" "),o("br"),e._v(" "+e._s(t.row.city)+" "),o("br"),e._v(" "+e._s(t.row.region)+" "),o("br"),e._v(" "+e._s(t.row.detailAddress)+" ")])]}}])}),o("el-table-column",{attrs:{align:"center",label:"默认收货地址",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(o){return e.setReceive(t.row.id)}},model:{value:t.row.receiveStatus,callback:function(o){e.$set(t.row,"receiveStatus",o)},expression:"scope.row.receiveStatus  "}})]}}])}),o("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间",width:"180"}}),o("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticClass:"button"},[o("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(o){return e.edit(t.row)}}},[e._v("编辑")]),o("el-link",{attrs:{type:"danger",underline:!1},on:{click:function(o){return e.clear(t.row.id)}}},[e._v("删除")])],1)]}}])})],1)],1),o("el-dialog",{attrs:{title:"地址详情",visible:e.dialogFormVisible},on:{close:e.close,"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{attrs:{"label-width":"130px",model:e.form}},[o("el-form-item",{attrs:{label:"发货地址"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.addressName,callback:function(t){e.$set(e.form,"addressName",t)},expression:"form.addressName "}})],1),o("el-form-item",{attrs:{label:"发货人姓名"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"发货人手机号"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),o("el-form-item",{attrs:{label:"邮政编码"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.postCode,callback:function(t){e.$set(e.form,"postCode",t)},expression:"form.postCode "}})],1),o("el-form-item",{attrs:{label:"收货地址"}},[[o("div",{attrs:{id:"app"}},[o("el-cascader",{attrs:{size:"large",options:e.options},on:{change:e.handleChange},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1)]],2),o("el-form-item",{attrs:{label:"详细地址"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.detailAddress,callback:function(t){e.$set(e.form,"detailAddress",t)},expression:"form.detailAddress "}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("确 定")])],1)],1)],1)},n=[],s=(o("ac1f"),o("1276"),o("a15b"),o("d3b7"),o("159b"),o("ef6c")),a=o("b775");function l(){return Object(a["a"])({url:"/lejuAdmin/companyAddress/addressList"})}function r(e){return Object(a["a"])({url:"/lejuAdmin/companyAddress/setReceiveOne",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/lejuAdmin/companyAddress/setSendOne",method:"post",data:e})}function d(e){return Object(a["a"])({url:"/lejuAdmin/companyAddress/update",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/lejuAdmin/companyAddress/".concat(e),method:"delete"})}function m(e){return Object(a["a"])({url:"/lejuAdmin/companyAddress/save",method:"post",data:e})}var f={data:function(){return{list:[],dialogFormVisible:!1,options:s["regionData"],selectedOptions:"",form:{addressName:"",city:"",cityCode:"",createTime:"",detailAddress:"",id:"",modifyTime:"",name:"",phone:"",postCode:"",province:"",receiveStatus:0,region:"",sendStatus:0}}},computed:{},created:function(){this.init()},mounted:function(){},methods:{edit:function(e){this.dialogFormVisible=!0,this.selectedOptions=e.cityCode.split(","),this.form=e},close:function(){console.log("关闭了"),this.form={addressName:"",city:"",cityCode:"",createTime:"",detailAddress:"",id:"",modifyTime:"",name:"",phone:"",postCode:"",province:"",receiveStatus:0,region:"",sendStatus:0},this.selectedOptions=[]},isShow:function(){this.dialogFormVisible=!0},handleChange:function(e){console.log(e),this.form.province=s["CodeToText"][e[0]],this.form.city=s["CodeToText"][e[1]],this.form.region=s["CodeToText"][e[2]],this.form.cityCode=e.join(",")},add:function(){var e=this;if(this.form.id)return this.form.sendStatus=this.form.sendStatus?1:0,this.form.receiveStatus=this.form.receiveStatus?1:0,d(this.form).then((function(t){console.log("修改地址",t),e.$message({message:"编辑成功",type:"success"})})),this.init(),void(this.dialogFormVisible=!1);m(this.form).then((function(t){console.log("新增地址",t),t.success&&(e.$message({message:"新增成功",type:"success"}),e.init()),e.dialogFormVisible=!1}))},clear:function(e){var t=this;u(e).then((function(e){console.log("删除地址",e),t.init()}))},setReceive:function(e){var t=this;console.log("收货",e),r({id:e}).then((function(e){console.log("修改收货",e),t.init()}))},setSend:function(e){var t=this;console.log("发货",e),c({id:e}).then((function(e){console.log("修改发货",e),t.init()}))},init:function(){var e=this;l().then((function(t){console.log("地址列表",t),t.data.items.forEach((function(e){e.sendStatus=!!e.sendStatus,e.receiveStatus=!!e.receiveStatus})),e.list=t.data.items}))}}},p=f,h=o("2877"),b=Object(h["a"])(p,i,n,!1,null,"3efc1fac",null);t["default"]=b.exports}}]);