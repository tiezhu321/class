(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-081bc08b"],{"04d7":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"a",(function(){return o})),r.d(t,"e",(function(){return l}));r("99af");var n=r("b775");function i(e,t,r){return Object(n["a"])({url:"/lejuAdmin/orderReturn/findReturnApply/".concat(e,"/").concat(t),method:"post",data:r})}function a(e){return Object(n["a"])({url:"/lejuAdmin/orderReturn/".concat(e)})}function s(e,t){return Object(n["a"])({url:"/lejuAdmin/orderReturn/receiveProduct/".concat(e),method:"post",data:t})}function o(e,t){return Object(n["a"])({url:"/lejuAdmin/orderReturn/agreeApply/".concat(e),method:"post",data:t})}function l(e,t){return Object(n["a"])({url:"/lejuAdmin/orderReturn/rejectApply/".concat(e),method:"post",data:t})}},"0b79":function(e,t,r){"use strict";r("d732")},"278a":function(e,t,r){"use strict";r.r(t);var n,i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"look"},[r("div",{staticClass:"center"},[r("h2",[e._v(" 订单信息: "),0==e.order.status?r("el-tag",{attrs:{effect:"dark",type:"danger"}},[e._v(" "+e._s(e._f("filtersStatus")(e.order.status))+" ")]):1==e.order.status?r("el-tag",{attrs:{effect:"dark",type:"warning"}},[e._v(" "+e._s(e._f("filtersStatus")(e.order.status))+" ")]):2==e.order.status?r("el-tag",{attrs:{effect:"plain",type:""}},[e._v(" "+e._s(e._f("filtersStatus")(e.order.status))+" ")]):r("el-tag",{attrs:{effect:"plain",type:"info"}},[e._v(" "+e._s(e._f("filtersStatus")(e.order.status))+" ")])],1),r("div",[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("div",[r("div",{staticClass:"sn"},[e._v(" 订单编号:"+e._s(e.order.orderSn)+" "),r("el-link",{attrs:{type:"primary",underline:!1},on:{click:e.look}},[e._v("查看订单详情")])],1)]),r("div",[e._v("申请时间:"+e._s(e.order.createTime))]),0==e.order.status?r("div",{staticClass:"imgList"},[r("div",[e._v("退单图片:")]),e._v(" "),e._l(e.picList,(function(e){return r("img",{key:e.index,staticClass:"img",attrs:{src:e,alt:""}})}))],2):e._e()]),r("el-col",{attrs:{span:6}},[r("div",[e._v("退单人姓名:"+e._s(e.order.returnName))])]),r("el-col",{attrs:{span:6}},[r("div",[e._v("退单理由:"+e._s(e.order.reason))])]),r("el-col",{attrs:{span:6}},[r("div",[e._v("退单描述:"+e._s(e.order.description))])])],1)],1),r("el-divider"),r("div",[r("h2",[e._v("退货商品:")]),r("el-table",{staticClass:"margin_30",staticStyle:{width:"100%"},attrs:{align:"center",data:e.list,border:""}},[r("el-table-column",{attrs:{align:"center",label:"商品图片",width:"180"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("img",{staticClass:"img",attrs:{src:e.row.productPic,alt:"图片已丢失"}})]}}])}),r("el-table-column",{attrs:{label:"商品描述",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[e._v(" "+e._s(t.row.productName)+" "),r("br"),e._v(" 品牌:"+e._s(t.row.productBrand)+" ")])]}}])}),r("el-table-column",{attrs:{label:"商品价格",align:"center",prop:"productRealPrice"}}),r("el-table-column",{attrs:{align:"center",label:"商品属性",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[e._v(" "+e._s(e._f("filterGoods")(t.row.productAttr))+" ")])]}}])}),r("el-table-column",{attrs:{label:"商品数量",align:"center",prop:"productCount"}}),r("el-table-column",{attrs:{label:"总计",align:"center",prop:"returnAmount"}})],1)],1),r("div",[r("h2",[e._v("用户信息:")]),r("span",[e._v("联系人:"+e._s(e.order.returnPhone))]),r("span",[e._v("联系电话:"+e._s(e.order.returnPhone))])]),r("el-divider"),r("div",[r("h2",[e._v("费用信息:")]),r("span",[e._v("退单金额:"+e._s(e.order.returnAmount))]),r("span",[e._v("运费金额: 0 ")]),0==e.order.status?r("div",[r("el-form",{ref:"agreeList",attrs:{model:e.agreeList,"label-width":"80px",inline:!0,size:"normal"}},[r("el-form-item",{attrs:{label:"退款金额"}},[[r("el-input-number",{attrs:{min:1,max:1e9,label:"描述文字"},model:{value:e.agreeList.returnAmount,callback:function(t){e.$set(e.agreeList,"returnAmount",t)},expression:"agreeList.returnAmount"}})]],2),r("el-form-item",{attrs:{label:"处理人"}},[r("el-input",{attrs:{size:"normal",clearable:""},model:{value:e.agreeList.handleMan,callback:function(t){e.$set(e.agreeList,"handleMan",t)},expression:"agreeList.handleMan"}})],1),r("el-form-item",{attrs:{label:"处理备注"}},[r("el-input",{attrs:{size:"normal",clearable:""},model:{value:e.agreeList.handleNote,callback:function(t){e.$set(e.agreeList,"handleNote",t)},expression:"agreeList.handleNote"}})],1)],1),r("div",[r("el-button",{attrs:{type:"primary"},on:{click:e.agree}},[e._v("同意退款")]),r("el-button",{on:{click:e.reject}},[e._v("拒绝退款")])],1)],1):e._e(),r("div")]),r("el-divider"),0!=e.order.status?r("div",[r("h2",[e._v("处理结果:")]),r("span",[e._v("处理人:"+e._s(e.order.handleMan))]),r("span",[e._v("处理备注:"+e._s(e.order.handleNote))]),r("span",[e._v("处理时间:"+e._s(e.order.handleTime))]),1==e.order.status?r("div",[r("el-form",{ref:"form",attrs:{inline:!0,model:e.receiveList,"label-width":"80px",size:"normal"}},[r("el-form-item",{attrs:{label:"收货人"}},[r("el-input",{model:{value:e.receiveList.receiveMan,callback:function(t){e.$set(e.receiveList,"receiveMan",t)},expression:"receiveList.receiveMan"}})],1),r("el-form-item",{attrs:{label:"收货备注"}},[r("el-input",{model:{value:e.receiveList.receiveNote,callback:function(t){e.$set(e.receiveList,"receiveNote",t)},expression:"receiveList.receiveNote"}})],1)],1),r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确认收货")])],1):e._e()]):e._e(),0!=e.order.status?r("el-divider"):e._e(),2==e.order.status?r("div",[r("h2",[e._v("收货信息:")]),r("span",[e._v("退单收货人:"+e._s(e.order.receiveMan))]),r("span",[e._v("退单收货备注:"+e._s(e.order.receiveNote))]),r("span",[e._v("退单收货时间:"+e._s(e.order.receiveTime))])]):e._e()],1)])},a=[],s=(r("d3b7"),r("ac1f"),r("1276"),r("04d7")),o={data:function(){return{agreeList:{handleMan:"",handleNote:"",returnAmount:"",id:this.$route.query.id},receiveList:{receiveMan:"",receiveNote:"",id:this.$route.query.id},fromData:{orderId:this.$route.query.id,deliverySn:"",deliveryCompany:""},formInline:{createTime:"",handleTime:"",memberUsername:"",orderId:"",orderSn:"",status:""},order:{},list:[],picList:[]}},computed:{},created:function(){n=this,this.init()},mounted:function(){},filters:{filterGoods:function(e){var t=n.fliterArr(e);return t.reduce((function(e,t){return e+t.key+":"+t.value+" "}),"")},filtersStatus:function(e){var t=["待处理","退货中","已完成","以拒绝"];return t[e]}},methods:{fliterArr:function(e){var t;return"string"==typeof e?(t=JSON.parse(e),"string"==typeof t?this.fliterArr(t):t):(t=e,t)},agree:function(){var e=this;Object(s["a"])(this.$route.query.id,this.agreeList).then((function(t){t.success&&e.init(),console.log("同意退货",t)}))},reject:function(){var e=this;Object(s["e"])(this.$route.query.id,this.agreeList).then((function(t){t.success&&e.init(),console.log("拒绝退货",t)}))},onSubmit:function(){var e=this;Object(s["d"])(this.$route.query.id,this.receiveList).then((function(t){t.success&&e.init(),console.log("退单收货",t)}))},look:function(){this.$router.push("/order/list/look?id=".concat(this.order.orderId))},deliver:function(){var e=this;sendDone(this.fromData).then((function(t){console.log("发货",t),e.init()}))},init:function(){var e=this;Object(s["c"])(this.$route.query.id).then((function(t){console.log("退单明细",t);var r=t.data.orderReturnApply.proofPics.split(",");e.picList=r,e.order=t.data.orderReturnApply,e.list.push(e.order)}))}}},l=o,c=(r("0b79"),r("2877")),u=Object(c["a"])(l,i,a,!1,null,"39929c2d",null);t["default"]=u.exports},d732:function(e,t,r){}}]);