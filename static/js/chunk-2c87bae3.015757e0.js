(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c87bae3"],{"03ee":function(t,e,o){},2361:function(t,e,o){"use strict";o.r(e);var a,l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"addList"},[o("div",{staticClass:"top"},[o("el-steps",{attrs:{"align-center":"",active:t.active,"finish-status":"success"}},[o("el-step",{attrs:{title:"商品基本信息"}}),o("el-step",{attrs:{title:"添加库存信息"}}),o("el-step",{attrs:{title:"添加移动端详情"}})],1)],1),o("div",{staticClass:"content"},[o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px",inline:!1,size:"normal"}},[1==t.active?o("div",{staticClass:"basic"},[t._v(" 商品基本信息 "),o("el-divider"),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"商品名称"}},[o("el-input",{model:{value:t.form.product.name,callback:function(e){t.$set(t.form.product,"name",e)},expression:"form.product.name"}})],1)],1),o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"商品编码"}},[o("el-input",{model:{value:t.form.product.productSn,callback:function(e){t.$set(t.form.product,"productSn",e)},expression:"form.product.productSn"}})],1)],1),o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"商品分类"}},[[o("el-select",{attrs:{placeholder:"请选择"},on:{change:t.getName},model:{value:t.form.product.productCategoryId,callback:function(e){t.$set(t.form.product,"productCategoryId",e)},expression:"form.product.productCategoryId"}},t._l(t.kindList,(function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)]],2)],1)],1)],1):2==t.active?o("div",{staticClass:"sku"},[t._v(" 商品sku信息 "),o("el-divider"),o("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{size:"mini",label:"sku设置"}},[o("div",{staticClass:"colorList"},[t.colorList.length>0?o("div",{staticClass:"colorItem"},[t._v(" 颜色: "),o("el-checkbox-group",{model:{value:t.selectedColor,callback:function(e){t.selectedColor=e},expression:"selectedColor"}},t._l(t.colorList,(function(t){return o("el-checkbox",{key:t.id,attrs:{label:t.val}})})),1)],1):t._e(),t.sizeList.length>0?o("div",{staticClass:"colorItem"},[t._v(" 大小: "),o("el-checkbox-group",{model:{value:t.selectedSize,callback:function(e){t.selectedSize=e},expression:"selectedSize"}},t._l(t.sizeList,(function(t){return o("el-checkbox",{key:t.id,attrs:{label:t.val}})})),1)],1):t._e()]),o("div",{staticClass:"main"},[o("div",{staticClass:"left"},[o("div",{staticClass:"color"},[o("el-input",{attrs:{placeholder:"颜色描述:比如土豪金"},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}}),o("el-button",{attrs:{type:"primary"},on:{click:t.addColor}},[t._v("创建颜色选项")])],1),o("div",{staticClass:"size"},[o("el-input",{attrs:{placeholder:"大小"},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}}),o("el-button",{attrs:{type:"primary"},on:{click:t.addSize}},[t._v("创建大小选项")])],1)]),o("div",{staticClass:"right"},[o("el-button",{attrs:{type:"primary"},on:{click:t.skuList}},[t._v("生成sku列表")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){}}},[t._v("新增sku")])],1)]),t.form.pmsSkuStockList.length>0?o("el-table",{attrs:{data:t.form.pmsSkuStockList,border:"",stripe:""}},[o("el-table-column",{attrs:{prop:"pic",label:"图片"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://leju.bufan.cloud/lejuAdmin/material/uploadFileOss",headers:t.headers,"on-success":function(o){return t.handleAvatarSuccess(o,e.row.ids)}}},[e.row.pic?o("img",{attrs:{src:e.row.pic,alt:""}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])]}}],null,!1,1642608582)}),o("el-table-column",{attrs:{prop:"spData[0].value",label:"颜色"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-input",{model:{value:e.row.spData[0].value,callback:function(o){t.$set(e.row.spData[0],"value",o)},expression:"scope.row.spData[0].value"}})]}}],null,!1,3603886217)}),o("el-table-column",{attrs:{prop:"spData[1].value",label:"大小"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-input",{model:{value:e.row.spData[1].value,callback:function(o){t.$set(e.row.spData[1],"value",o)},expression:"scope.row.spData[1].value"}})]}}],null,!1,1994450184)}),o("el-table-column",{attrs:{prop:"stock",label:"库存"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-input",{model:{value:e.row.stock,callback:function(o){t.$set(e.row,"stock",o)},expression:"scope.row.stock"}})]}}],null,!1,3361012425)}),o("el-table-column",{attrs:{prop:"lowStock",label:"预警库存"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-input",{model:{value:e.row.lowStock,callback:function(o){t.$set(e.row,"lowStock",o)},expression:"scope.row.lowStock"}})]}}],null,!1,3304975261)}),o("el-table-column",{attrs:{prop:"lockStock",label:"锁定库存"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-input",{model:{value:e.row.lockStock,callback:function(o){t.$set(e.row,"lockStock",o)},expression:"scope.row.lockStock"}})]}}],null,!1,2157474946)}),o("el-table-column",{attrs:{prop:"skuCode",label:"sku编码"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-input",{model:{value:e.row.skuCode,callback:function(o){t.$set(e.row,"skuCode",o)},expression:"scope.row.skuCode"}})]}}],null,!1,1233090249)}),o("el-table-column",{attrs:{prop:"price",label:"价格"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-input",{model:{value:e.row.price,callback:function(o){t.$set(e.row,"price",o)},expression:"scope.row.price"}})]}}],null,!1,875317540)}),o("el-table-column",{attrs:{prop:"sale",label:"销量"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-input",{model:{value:e.row.sale,callback:function(o){t.$set(e.row,"sale",o)},expression:"scope.row.sale"}})]}}],null,!1,3591123570)})],1):t._e()],1)],1):o("div",{staticClass:"info"},[t._v(" 详情描述 "),o("el-divider")],1)])],1),1!=t.active?o("el-button",{staticStyle:{"margin-top":"12px"},on:{click:t.prev}},[t._v("返回上一步")]):t._e(),3!=t.active?o("el-button",{staticStyle:{"margin-top":"12px"},on:{click:t.next}},[t._v("下一步填写库存信息")]):o("el-button",{staticStyle:{"margin-top":"12px"},on:{click:t.addProduct}},[t._v("提交保存")])],1)},r=[],i=(o("d3b7"),o("159b"),o("e9c4"),o("7db0"),o("b0c0"),o("6cd9")),s=o("2f4d"),n=o("60f2"),c=new Uint8Array(16);function u(){if(!a&&(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(c)}var d=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function p(t){return"string"===typeof t&&d.test(t)}for(var f=p,m=[],v=0;v<256;++v)m.push((v+256).toString(16).substr(1));function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(m[t[e+0]]+m[t[e+1]]+m[t[e+2]]+m[t[e+3]]+"-"+m[t[e+4]]+m[t[e+5]]+"-"+m[t[e+6]]+m[t[e+7]]+"-"+m[t[e+8]]+m[t[e+9]]+"-"+m[t[e+10]]+m[t[e+11]]+m[t[e+12]]+m[t[e+13]]+m[t[e+14]]+m[t[e+15]]).toLowerCase();if(!f(o))throw TypeError("Stringified UUID is invalid");return o}var b=k;function h(t,e,o){t=t||{};var a=t.random||(t.rng||u)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){o=o||0;for(var l=0;l<16;++l)e[o+l]=a[l];return e}return b(a)}var y=h,S={data:function(){return{kindList:[],active:1,color:"",selectedColor:[],selectedId:"",colorList:[],size:"",selectedSize:[],sizeList:[],headers:{token:Object(s["b"])()},form:{pmsSkuStockList:[],product:{albumPics:"https://img12.360buyimg.com/n5/s54x54_jfs/t1/209823/35/5464/184159/61697197Ec2a48eec/e28a2833555b00a6.jpg",brandId:"",brandName:"",createTime:"",deleteStatus:"",description:"HUAWEI nova 9 4G全网通 120Hz 后置5000万超感知影像 搭载HarmonyOS 2 8+128GB亮黑色手机 标配无充",detailDesc:"HUAWEI nova 9 4G全网通 120Hz 后置5000万超感知影像 搭载HarmonyOS 2 8+128GB亮黑色手机 标配无充",detailHtml:"",detailMobileHtml:"<p style='color:red'>HUAWEI nova 9<p>",detailTitle:"nova 9",feightTemplateId:"",giftGrowth:"",giftPoint:"",id:"",keywords:"",lowStock:10,modifyTime:"",name:"nova 0",newStatus:1,note:"手机",originalPrice:1e3,pic:"",previewStatus:"",price:999,productAttributeCategoryId:"",productCategoryId:"",productCategoryName:"",productSn:"",promotionEndTime:"",promotionPerLimit:"",promotionPrice:"",promotionStartTime:"",promotionType:"",publishStatus:1,recommendStatus:"",sale:"",serviceIds:"",sort:"",stock:"",subTitle:"",unit:"",usePointLimit:"",verifyStatus:"",weight:""}}}},computed:{},created:function(){this.getAll()},mounted:function(){},methods:{addProduct:function(){this.form.pmsSkuStockList.forEach((function(t){return t.spData=JSON.stringify(t.spData)})),Object(i["a"])(this.form).then((function(t){console.log(t)}))},saveId:function(t){this.selectedId=t},handleAvatarSuccess:function(t,e){console.log(t,e);var o=this.form.pmsSkuStockList.find((function(t){return t.ids==e}));o.pic=t.data.fileUrl},skuList:function(){var t=this,e=[];this.selectedColor.forEach((function(o){t.selectedSize.forEach((function(t){var a={ids:y(),id:"",lockStock:"",lowStock:"",pic:"",price:"",productId:"",promotionPrice:"",sale:"",skuCode:"",spData:[{key:"颜色",value:o},{key:"大小",value:t}],stock:"",modifyTime:"",createTime:""};e.push(a)}))})),console.log(e),this.form.pmsSkuStockList=e},addColor:function(){this.colorList.push({id:y(),val:this.color}),this.color=""},addSize:function(){this.sizeList.push({id:y(),val:this.size}),this.size=""},getName:function(t){console.log(t),this.form.product.productCategoryName=this.kindList.find((function(e){return e.id==t})).name},getAll:function(){var t=this;Object(n["a"])().then((function(e){t.kindList=e.data.items.find((function(t){return"乐居"==t.category.name})).children}))},next:function(){this.active>=3||this.active++},prev:function(){this.active<=1||this.active--}}},g=S,w=(o("c3f1"),o("2877")),C=Object(w["a"])(g,l,r,!1,null,"1ab85012",null);e["default"]=C.exports},"60f2":function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var a=o("b775");function l(){return Object(a["a"])({url:"/lejuAdmin/category/getAllCategory"})}},"6cd9":function(t,e,o){"use strict";o.d(e,"b",(function(){return l})),o.d(e,"a",(function(){return r}));o("99af");var a=o("b775");function l(t,e,o){return Object(a["a"])({url:"/lejuAdmin/product/productsByPage/".concat(t,"/").concat(e),method:"post",data:o})}function r(){return Object(a["a"])({url:"/lejuAdmin/product/addProductAndSkus",method:"post",data:data})}},"7db0":function(t,e,o){"use strict";var a=o("23e7"),l=o("b727").find,r=o("44d2"),i=o("ae40"),s="find",n=!0,c=i(s);s in[]&&Array(1)[s]((function(){n=!1})),a({target:"Array",proto:!0,forced:n||!c},{find:function(t){return l(this,t,arguments.length>1?arguments[1]:void 0)}}),r(s)},c3f1:function(t,e,o){"use strict";o("03ee")}}]);